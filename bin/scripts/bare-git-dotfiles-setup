#!/bin/bash
# Source:
# https://harfangk.github.io/2016/09/18/manage-dotfiles-with-a-git-bare-repository.html
# depends upon having the following alias
# alias dotfiles="/usr/bin/git --git-dir=$HOME/.dotfiles.git/ --work-tree=$HOME
main() {
    git init --bare $HOME/.dotfiles.git
    echo 'alias dotfiles="/usr/bin/git --git-dir=$HOME/.dotfiles.git/ --work-tree=$HOME"' >> $HOME/.zshrc
    source ~/.zshrc
    dotfiles config --local status.showUntrackedFiles no
}

main "$@"
